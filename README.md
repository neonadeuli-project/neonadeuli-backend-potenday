<div align="center" >

# Neonadeuli (ë„ˆë‚˜ë“¤ì´)

<b>Mobile AI National Heritage Interpretation Service</b>

<img src="https://github.com/user-attachments/assets/3884c8e5-69b9-4835-ba99-7e285d7bb579" 
    style="height: 300px; width: 100%; 
            object-fit: cover; 
            border-radius: 20px;" >

[![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fneonadeuli-project&count_bg=%23F2E2C3&title_bg=%23555555&icon=sparkpost.svg&icon_color=%23E7E7E7&title=neonadeuli&edge_flat=false)](https://hits.seeyoufarm.com)

</div>

## âœ¨ Project Introduction

### ë„ˆë‚˜ë“¤ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ëŒ€í™”í˜• AI ì±—ë´‡ê³¼ ë‹¤ì–‘í•œ ì½˜í…ì¸ ë¥¼ í†µí•´ í•œêµ­ì˜ êµ­ê°€ ìœ ì‚°ê³¼ ì—­ì‚¬ë¥¼ ì¬ë¯¸ìˆê²Œ íƒêµ¬í•´ë³´ì„¸ìš”.

- GPS ê¸°ë°˜ ì‹¤ì‹œê°„ êµ­ê°€ìœ ì‚° íƒë°© ë° ì½”ìŠ¤ ì¶”ì²œì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- AI ê¸°ë°˜ ìŒì„± í•´ì„¤ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤. 
- êµ­ê°€ìœ ì‚°ì— íŠ¹í™”ëœ AI ì±—ë´‡ê³¼ ì‹¤ì‹œê°„ ì§ˆì˜ ì‘ë‹µì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

## âš’ï¸ Feature Introduction

### ğŸ¤– êµ­ê°€ìœ ì‚° ë³„ ì»¤ìŠ¤í…€ AI ì±—ë´‡
- ì±—ë´‡ ê¸°ëŠ¥ì´ í™œì„±í™” ë˜ë©´ í•´ë‹¹ êµ­ê°€ ìœ ì‚°ì˜ ì „ë¬¸ ì§€ì‹ì„ ê°€ì§„ AI ì±—ë´‡ê³¼ ëŒ€í™”í•©ë‹ˆë‹¤.
- ê° êµ­ê°€ ìœ ì‚°ë§ˆë‹¤ ì±—ë´‡ ì„¸ì…˜ì€ í•˜ë‚˜ì”©ë§Œ ìƒì„±ë˜ê³ , ì„¸ì…˜ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ í•´ë‹¹ ì„¸ì…˜ì€ ìœ ì§€ë©ë‹ˆë‹¤.
- AI ì±—ë´‡ì—ê²Œ ë°©ë¬¸í•œ êµ­ê°€ ìœ ì‚°ì˜ ë¬¸í™”ì¬ ì •ë³´ë¥¼ ìš”êµ¬í•˜ë©´ í•´ë‹¹ ë¬¸í™”ì¬ ê´€ë ¨ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤. 
- AI ì±—ë´‡ì—ê²Œ ë°©ë¬¸í•œ êµ­ê°€ ìœ ì‚°ì˜ ë¬¸í™”ì¬ í€´ì¦ˆë¥¼ ìš”êµ¬í•˜ë©´ í•´ë‹¹ ë¬¸í™”ì¬ ê´€ë ¨ í€´ì¦ˆë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- í…ìŠ¤íŠ¸-ìŒì„± ë³€í™˜ ì„œë¹„ìŠ¤ë¥¼ í†µí•´ AI ê¸°ë°˜ ìŒì„± í•´ì„¤ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ğŸ—ºï¸ GPS ê¸°ë°˜ ì‹¤ì‹œê°„ êµ­ê°€ìœ ì‚° íƒë°©
- GPS ê¸°ë°˜ ì‹¤ì‹œê°„ êµ­ê°€ìœ ì‚° íƒë°© ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ë°©ë¬¸í•œ ë¬¸í™”ì¬ ìœ„ì¹˜ì— ë§ì¶° ì‹¤ì‹œê°„ ì •ë³´ ì œê³µê³¼ í•¨ê»˜ ì±—ë´‡ ì¸í„°ë™ì…˜ì´ ì¼ì–´ë‚©ë‹ˆë‹¤.
- í˜„ì¬ ìœ„ì¹˜ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì›í•˜ëŠ” ê±°ë¦¬ì— ë”°ë¥¸ í•„í„°ë§ ëœ êµ­ê°€ìœ ì‚° ë°ì´í„°ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

<!-- ## ğŸ¯ Technical Challenge

### ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì œì— ë„ì „í–ˆìŠµë‹ˆë‹¤.

<b> 1. êµ­ê°€ìœ ì‚°ì— íŠ¹í™”ëœ AI ì±—ë´‡ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. </b> -->

## ğŸ›¢ï¸ ERD

```mermaid
erDiagram
User ||--o{ ChatSession : has
User ||--o{ UserBookmark : has
Heritage ||--o{ UserBookmark : bookmarked_by
Heritage ||--o{ ChatSession : related_to
Heritage ||--o{ HeritageBuilding : has
Heritage ||--o{ HeritageRoute : has
Heritage ||--o{ HeritageBuildingImage : has
HeritageType ||--o{ Heritage : categorizes
HeritageType ||--o{ HeritageBuilding : categorizes
HeritageBuilding ||--o{ HeritageBuildingImage : has
HeritageRoute ||--o{ HeritageRouteBuilding : consists_of
HeritageBuilding ||--o{ HeritageRouteBuilding : part_of
ChatSession ||--o{ ChatMessage : contains
ChatSession ||--o{ Quiz : has
ChatSession ||--o{ RecommendedQuestion : has

User {
    int id PK
    string name
    string token
    datetime created_at
    datetime last_login
}

Heritage {
    int id PK
    int heritage_type_id FK
    string name
    string name_hanja
    string description
    string location
    decimal latitude
    decimal longitude
    string category
    string sub_category1
    string sub_category2
    string sub_category3
    string era
    float area_code
    string image_url
}

HeritageType {
    int type_id PK
    string name
    enum type_name
    float default_radius
}

HeritageBuilding {
    int id PK
    int heritage_id FK
    int building_type_id FK
    string name
    string description
    decimal latitude
    decimal longitude
    float custom_radius
}

HeritageBuildingImage {
    int id PK
    int heritage_id FK
    int building_id FK
    string image_url
    string description
    string alt_text
    int image_order
}

HeritageRoute {
    int id PK
    int heritage_id FK
    string name
    string description
    enum type
}

HeritageRouteBuilding {
    int id PK
    int route_id FK
    int building_id FK
    int visit_order
}

ChatSession {
    int id PK
    int user_id FK
    int heritage_id FK
    string heritage_name
    datetime start_time
    datetime end_time
    int quiz_count
    text full_conversation
    text sliding_window
    json summary_keywords
    json visited_buildings
    datetime summary_generated_at
}

ChatMessage {
    int id PK
    int session_id FK
    enum role
    text content
    datetime timestamp
}

Quiz {
    int id PK
    int session_id FK
    text question
    text options
    string answer
    text explanation
}

RecommendedQuestion {
    int id PK
    int session_id FK
    string question
}

UserBookmark {
    int id PK
    int user_id FK
    int heritage_id FK
}
```

<!-- ## â›“ï¸ Architecture -->

<!-- ## ğŸªœ Sequence Diagram -->

## ğŸ“– Project Environment

### ğŸ Main Language
- Python v3.12.4

### ğŸ‘¾ Framework
- FastAPI v0.0.4

### ğŸ“’ Main Library
- sqlalchemy v1.4.39
- uvicorn v0.30.1
- aiomysql v0.2.0
- pydantic v2.7.3
- alembic v1.13.1


## ğŸ“¢ Service Deployment

### ğŸ–‡ï¸ Deployment URL
* https://www.neonadeuli.life/

### ğŸªµ Deployment Log

* https://github.com/neonadeuli-project/Neonadeuli-Backend/releases

    #### âš­ v0.1.0

    * ìƒˆë¡œìš´ ê¸°ëŠ¥
        * ë¡œê·¸ì¸ì— í† í° ê°’ response ë  ìˆ˜ ìˆìŒ
        * í† í° ê²€ì‚¬ API ì¶”ê°€ (Authorization í—¤ë”ì— â€Bearer ${í† í°ê°’}â€ìœ¼ë¡œ ë“¤ì–´ê°)
        * ë¡œê·¸ì•„ì›ƒ API ì¶”ê°€ (Authorization í—¤ë”ì— â€Bearer ${í† í°ê°’}â€ìœ¼ë¡œ ë“¤ì–´ê°)
            * ì±„íŒ… ì„¸ì…˜ ìƒì„± API Response ê°’ ë³€ê²½ (Notion ì°¸ê³ )
            * session_id ì¶”ê°€
    
       â†’ ê²½ë³µê¶ ê²½ë¡œ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ (ì´ ë¶€ë¶„ ê²½ë³µê¶ ì½”ìŠ¤ë¡œ ê´‘í™”ë¬¸->í¥ë¡€ë¬¸->ê·¼ì •ë¬¸->ê²½í¬ë£¨ ì„ì‹œ ë”ë¯¸ë°ì´í„° ë„£ì–´ë‘ )

    #### âš­ v0.2.0

    -  Database MySQL -> Dockerë¡œ ë³€ê²½
    - ì±„íŒ… ì„¸ì…˜ ìƒì„±, ì±„íŒ… ìš”ì•½ ì¤‘ë³µ ë°©ì§€ ë¡œì§ ì¶”ê°€
    - ì±„íŒ… ì„¸ì…˜ ìƒì„± ì‘ë‹µ ê°’ ì—…ë°ì´íŠ¸ (ì„¸ì…˜ID, ìœ„ì¹˜ ì¢Œí‘œ ê°’ ì¶”ê°€, ì½”ìŠ¤ ìˆœ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬)
    - ì±—ë´‡ ì •ë³´ ì œê³µ API êµ¬í˜„ (ì¶”í›„ íŒŒë¼ë¯¸í„° ì¿¼ë¦¬ ë°©ì‹ ë¦¬íŒ©í† ë§ ì˜ˆì •)
    - ì±—ë´‡ í€´ì¦ˆ ì œê³µ API êµ¬í˜„ ë° ì‘ë‹µ ê°’ ì²˜ë¦¬ ë¡œì§ ì—…ë°ì´íŠ¸, ì‘ë‹µ ê°’ì— í€´ì¦ˆ ì¹´ìš´íŠ¸ ì¶”ê°€
    - ì±„íŒ… ì„¸ì…˜ ì¢…ë£Œ API êµ¬í˜„
    - ì±„íŒ… ìš”ì•½ API êµ¬í˜„ ë° ë¹„ë™ê¸° ì²˜ë¦¬ (ì„¸ì…˜ ì¢…ë£Œ API í˜¸ì¶œ ì‹œ ìë™ í˜¸ì¶œ)
    - ì±„íŒ… ì‹œê°„ ê°’ DB ê¸°ì¤€ìœ¼ë¡œ ìˆ˜ì •
    - í€´ì¦ˆ í…Œì´ë¸” êµ¬í˜„ -> í€´ì¦ˆ API í˜¸ì¶œ ì‹œ í•´ë‹¹ ë°ì´í„° ë³„ë„ ì €ì¥
    - í€´ì¦ˆ ì¬ì‹œë„ íšŸìˆ˜ ë©”ì„œë“œ ì¶”ê°€ (ìµœëŒ€ 3ë²ˆ ì±—ë´‡ í˜¸ì¶œ -> ì‘ë‹µ ê°’ íŒŒì‹± ë¬¸ì œë¡œ ì¸í•œ ì¬í˜¸ì¶œ ë¡œì§ êµ¬ì„±)
    - sliding window ì»¬ëŸ¼ ì¤‘ë³µ ì €ì¥ ë¬¸ì œ í•´ê²°

    #### âš­ v0.3.0

    - ì¶”ì²œ ì§ˆë¬¸ API 2ê°€ì§€ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„ ì™„ë£Œ
 
    1. ê±´ì¶•ë¬¼ ê¸°ë°˜ ì¶”ì²œ ì§ˆë¬¸ ìƒì„± : `POST` [https://neonadeuli.life/api/v1/chat/{session_id}/building/recommend-questions](https://neonadeuli.life/api/v1/chat/%7Bsession_id%7D/building/recommend-questions)

        &rarr; ì‚¬ìš©ìê°€ ë‚´ë¶€ ê±´ì¶•ë¬¼ì„ ì´ë™ ì‹œ ìƒˆë¡œìš´ ê±´ì¶•ë¬¼ì˜ building_idë¥¼ ë°›ì•„ í•´ë‹¹ ê±´ì¶•ë¬¼ ê´€ë ¨ ì¶”ì²œ ì§ˆë¬¸ 3ê°€ì§€ë¥¼ ì œê³µ

        ```json
        {
            "building_id": 2
        } 
        ```
        ```json
        {
            "building_id": 2,
            "questions": [
                "í¥ë¡€ë¬¸ì— ìˆëŠ” ì˜¤ì–ê½ƒ ë¬¸ì–‘ì€ ì–´ë–¤ ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆì„ê¹Œìš”?",
                "í¥ë¡€ë¬¸ì´ ê²½ë³µê¶ì˜ ì¤‘ì‹¬ì¸ ê·¼ì •ì „ê³¼ ê´‘í™”ë¬¸ ì‚¬ì´ì— ìœ„ì¹˜í•œ ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?",
                "í¥ë¡€ë¬¸ ë³µì› ê³µì‚¬ì— ì‚¬ìš©ëœ ê¸ˆê°•ì†¡ì€ ì–´ë–¤ íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆì„ê¹Œìš”?"
            ]
        }
        ```
        <br>

    2. ë©”ì‹œì§€ ê¸°ë°˜ ì¶”ì²œ ì§ˆë¬¸ ìƒì„± : `GET` [https://neonadeuli.life/api/v1/chat/{session_id}/message/recommend-questions](https://neonadeuli.life/api/v1/chat/%7Bsession_id%7D/message/recommend-questions)

        &rarr; ì‚¬ìš©ìì˜ ì§ˆë¬¸ì— ëŒ€í•œ ì§ì „ AI ë‹µë³€ì„ ë¶„ì„í•˜ì—¬ ê·¸ ë‹¤ìŒ ì¶”ì²œ ì§ˆë¬¸ 3ê°€ì§€ë¥¼ ì œê³µ
        &rarr; ë©”ì‹œì§€ ì „ì†¡ APIì— ë¹„ë™ê¸° ì²˜ë¦¬ë˜ì–´ ë¯¸ë¦¬ ì¶”ì²œ ì§ˆë¬¸ ì‘ë‹µ ìƒì„±  ë° ì €ì¥ 
        ```
        [
            "1. 1674ë…„ì— ìˆ˜ë¦¬ëœ ê²½ë³µê¶ ë‚´ì „ì¸ êµíƒœì „ê³¼ ê°•ë…•ì „ì€ ì–´ë–¤ ì—­ì‚¬ì  ì˜ë¯¸ë¥¼ ê°€ì§€ê³  ìˆë‚˜ìš”?",
            "2. 1688ë…„ì— ì™•ë¹„ì— ì±…ë´‰ëœ í¬ë¹ˆ ì¥ì”¨ê°€ ê±°ì²˜í•œ ë‚´ì „ì¸ ì·¨ì„ ë‹¹ì€ ì–´ë–¤ ê±´ì¶•ì  íŠ¹ì§•ì„ ê°€ì§€ê³  ìˆë‚˜ìš”?",
            "3. 1711ë…„ì— ê±´ì„¤ëœ ê¸ˆì²œêµëŠ” ì–´ë–¤ êµ¬ì¡°ì™€ í˜•íƒœë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ì¡°ì„ ì‹œëŒ€ ë‹¤ë¦¬ ê±´ì¶•ì— ì–´ë–¤ ì˜í–¥ì„ ë¯¸ì³¤ë‚˜ìš”?"
        ]
        ```

    * ê±´ì¶•ë¬¼ ì´ë¯¸ì§€ ì¶”ê°€ API : `POST` [https://neonadeuli.life/api/v1/image/heritage/{heritage_id}/add-building?building_id=1&description=viaunixue&alt_text=ë„¤ë¡œ](https://neonadeuli.life/api/v1/image/heritage/%7Bheritage_id%7D/add-building?building_id=1&description=viaunixue&alt_text=%EB%84%A4%EB%A1%9C)

    * ê±´ì¶•ë¬¼ ì´ë¯¸ì§€ ì¡°íšŒ API : `POST` [https://neonadeuli.life/api/v1/image/heritage/{heritage_id}/find-building](https://neonadeuli.life/api/v1/image/heritage/%7Bheritage_id%7D/find-building)
        ```json
        {
            "images": [
                {
                    "id": 1,
                    "building_id": 1,
                    "image_url": "https://example.com/images/gwanghwamun.jpg",
                    "description": "ê´‘í™”ë¬¸ì˜ ì „ê²½",
                    "alt_text": "ê´‘í™”ë¬¸ ì •ë©´ ì‚¬ì§„",
                    "image_order": 1,
                    "created_at": "2024-08-02T05:36:48",
                    "updated_at": null
                }
            ]
        }
        ```

    * ë¬¸í™”ì¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ API : GET https://neonadeuli.life/api/v1/heritages/lists?user_latitude=37.5665&user_longitude=126.9780&page=2&limit=10
        * ë¬¸í™”ì¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ Heritage í…Œì´ë¸”ì— ë”ë¯¸ ë°ì´í„° ë¬¸í™”ì¬ ì•½ 100ê°œ ì‚½ì…
        * í˜„ì¬ ì¼ë‹¨ íŒŒë¼ë¯¸í„°ì— ìœ ì € ìœ„ë„, ìœ ì € ê²½ë„, Page, limit request ê°’ìœ¼ë¡œ ì„¤ì •
        * pagination êµ¬ì¡°
        ```json
        [
            {
                "id": 11,
                "name": "ì–‘ë™ë§ˆì„",
                "location": "ê²½ìƒë¶ë„ ê²½ì£¼ì‹œ ê°•ë™ë©´ ì–‘ë™ë¦¬",
                "heritage_type": "ì‹œë„ìœ í˜•ë¬¸í™”ìœ ì‚°",
                "image_url": "https://example.com/yangdong_village.jpg",
                "distance": 266.5
            }, ...
        ```

    * ë¬¸í™”ì œ ìƒì„¸ ì¡°íšŒ API : `GET` [https://neonadeuli.life/api/v1/heritages/{heritage_id}/details](https://neonadeuli.life/api/v1/heritages/%7Bheritage_id%7D/details)
        ```json
        {
            "id": 15,
            "image_url": "https://example.com/sungnyemun_registered.jpg",
            "name": "ì„œìš¸ ìˆ­ë¡€ë¬¸",
            "name_hanja": "ì„œìš¸ å´‡ç¦®é–€",
            "description": "í•œì–‘ë„ì„±ì˜ ë‚¨ëŒ€ë¬¸",
            "heritage_type": "ì‹œë„ë“±ë¡ìœ ì‚°",
            "category": "ê±´ì¡°ë¬¼",
            "sub_category1": "ì„±ë¬¸",
            "sub_category2": null,
            "era": "ì¡°ì„ ì‹œëŒ€",
            "location": "ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ ì„¸ì¢…ëŒ€ë¡œ 40"
        }
        ```

    #### âš­ v0.3.1

    * í˜„ì¬ DBì— ì´ 15439ê°œ ë¬¸í™”ì¬ ë°ì´í„° INSERT ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ì œ í•´ë‹¹ ë°ì´í„°ë¡œ ë¬¸í™”ì¬ ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
    * ë¬¸í™”ì¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒì— ì´ 3ê°€ì§€ í•„í„°ë§ ê¸°ëŠ¥ê³¼ 2ê°€ì§€ ì •ë ¬ ì˜µì…˜ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
        * í•„í„°ë§ ê¸°ëŠ¥
            * area_code - ì§€ì—­ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ„ì¹˜ í•„í„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ í•„í„° ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
                * 11 : ì„œìš¸  21 : ë¶€ì‚°  22 : ëŒ€êµ¬  23 : ì¸ì²œ  24 : ê´‘ì£¼  25 : ëŒ€ì „  26 : ìš¸ì‚°  45 : ì„¸ì¢…  31 : ê²½ê¸°  32 : ê°•ì›  33 : ì¶©ë¶  34 : ì¶©ë‚¨  35 : ì „ë¶  36 : ì „ë‚¨  37 : ê²½ë¶  38 : ê²½ë‚¨  50 : ì œì£¼
            * heritage_type  - ë¬¸í™”ì¬ ìœ í˜• ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ í˜• í•„í„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ í•„í„° ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. 
            (heritage_typeì€ ì¤‘ë³µìœ¼ë¡œ ì¶”ê°€ ê°€ëŠ¥)
                * 11 : êµ­ë³´  12 : ë³´ë¬¼   13 : ì‚¬ì   14 : ì‚¬ì ë°ëª…ìŠ¹   15 : ëª…ìŠ¹  16 : ì²œì—°ê¸°ë…ë¬¼   17 : êµ­ê°€ë¬´í˜•ìœ ì‚°  18 : êµ­ê°€ë¯¼ì†ë¬¸í™”ìœ ì‚°
    21 : ì‹œë„ìœ í˜•ë¬¸í™”ìœ ì‚°  22 : ì‹œë„ë¬´í˜•ìœ ì‚°   23 : ì‹œë„ê¸°ë…ë¬¼  24 : ì‹œë„ë¯¼ì†ë¬¸í™”ìœ ì‚°   25 : ì‹œë„ë“±ë¡ìœ ì‚°  31 : ë¬¸í™”ìœ ì‚°ìë£Œ
    79 : êµ­ê°€ë“±ë¡ìœ ì‚°  80 : ì´ë¶5ë„ ë¬´í˜•ìœ ì‚°
            * distance_range  - ì‚¬ìš©ì GPSê°’ ê¸°ë°˜ìœ¼ë¡œ ê±°ë¦¬ í•„í„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ í•„í„° ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. (ë‹¨ìœ„ëŠ” km ì…ë‹ˆë‹¤.)
                * 0-0.5 , 0.5-1 , 1-10, 10-100, 100-1000 
        * ì •ë ¬ ê¸°ëŠ¥
            * sort_by - ë¬¸í™”ì¬ ID ë˜ëŠ” ë¬¸í™”ì¬ì™€ ì‚¬ìš©ì ì‚¬ì´ ê±°ë¦¬  ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. 
            êµ¬ì²´ì ì¸ í•„í„° ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
                * id, distance
            * sort_order - ì˜¤ë¦„ì°¨ìˆœ ë˜ëŠ” ë‚´ë¦¼ì°¨ìˆœìœ¼ë¡œ í•„í„°ì½”ë“œëŠ” í•œê¸€ ê·¸ëŒ€ë¡œ ì„¤ì •í•´ë‘ì—ˆìŠµë‹ˆë‹¤. 
            ë”°ë¼ì„œ í•„í„°ì½”ë“œëŠ” ì˜¤ë¦„ì°¨ìˆœ ê³¼ ë‚´ë¦¼ì°¨ìˆœ  ì…ë‹ˆë‹¤.

    * ì˜ˆì œ URL :
    [https://neonadeuli.life/api/v1/heritages/lists?user_latitude=37.5665&user_longitude=126.9780&page=2&limit=10&area_code=11&distance_range=1-10&heritage_type=11&heritage_type=13&sort_by=id&sort_order=ì˜¤ë¦„ì°¨ìˆœ](https://neonadeuli.life/api/v1/heritages/lists?user_latitude=37.5665&user_longitude=126.9780&page=2&limit=10&area_code=11&distance_range=1-10&heritage_type=11&heritage_type=13&sort_by=id&sort_order=%EC%98%A4%EB%A6%84%EC%B0%A8%EC%88%9C)

    * ë¬¸í™”ì¬ ì´ë¦„ì— ë”°ë¥¸ ë™ì  í”„ë¡¬í”„íŠ¸ êµ¬í˜„ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. 
    ì´ì œ ì‚¬ìš©ìê°€ ë°©ë¬¸í•˜ëŠ” ë¬¸í™”ì¬ì— ëŒ€í•œ ì±—ë´‡ì´ ì‹œì‘ë˜ë©´ í•´ë‹¹ ë¬¸í™”ì¬ì— ë§ëŠ” ì „ìš© AIì±—ë´‡ì´ ëŒ€ë‹µí•´ì¤ë‹ˆë‹¤.

    * ì´ë¯¸ì§€ ë§í¬ ì ‘ê·¼ ê¶Œí•œ ì´ìŠˆë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤. DBì— ì´ë¯¸ì§€ ì¶”ê°€ í›„ í•´ë‹¹ ë§í¬ë¡œ ì´ë¯¸ì§€ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

    #### âš­ v0.3.2

    - ì±„íŒ… ë©”ì‹œì§€ì—ì„œ ë°œìƒí•˜ë˜ ë”œë ˆì´ ê´€ë ¨ ì¿¼ë¦¬ë¬¸ ê°œì„ ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.

    - ë¬¸í™”ì¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒì— ì´ 2ê°€ì§€ í•„í„°ë§ ê¸°ëŠ¥ ê¸°ëŠ¥ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤

        - name - ë¬¸í™”ì¬ ì´ë¦„ì„ ê¸°ë°˜ìœ¼ë¡œ ì´ë¦„ í•„í„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
        - era_category - ì‹œëŒ€ëª…ì„ ê¸°ë°˜ìœ¼ë¡œ ì‹œëŒ€ í•„í„°ë§ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. êµ¬ì²´ì ì¸ í•„í„° ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.
            - ì „ì²´, ì„ ì‚¬ì‹œëŒ€, ì„ê¸°ì‹œëŒ€, ì²­ë™ê¸°ì‹œëŒ€, ì² ê¸°ì‹œëŒ€, ì‚¼í•œì‹œëŒ€, ì‚¼êµ­ì‹œëŒ€, ì‚¼êµ­:ê³ êµ¬ë ¤, ì‚¼êµ­:ë°±ì œ, ì‚¼êµ­:ì‹ ë¼, ë°œí•´, í†µì¼ì‹ ë¼, ê³ ë ¤ì‹œëŒ€, ì¡°ì„ ì‹œëŒ€, ëŒ€í•œì œêµ­ì‹œëŒ€, ì¼ì œê°•ì ê¸°

    #### âš­ v0.3.3

    ë„¤ì´ë²„ Clova Voice ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

    í…ìŠ¤íŠ¸ë¥¼ ìŒì„±ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ mp3 íŒŒì¼ë¡œ ì œê³µë©ë‹ˆë‹¤.
    ì±„íŒ… ë©”ì‹œì§€ API ì‘ë‹µ ê°’ì— ì¶”ê°€ë˜ì–´ í•´ë‹¹ AI ì±—ë´‡ì˜ ëŒ€ë‹µì„ ìŒì„±ìœ¼ë¡œ ì œê³µí•´ì¤ë‹ˆë‹¤.
    
    ìˆ˜ì •ëœ ì±„íŒ… ë©”ì‹œì§€ API ì‘ë‹µ ê°’ ì˜ˆì‹œ

    ```json
    {
        "id": 68,
        "session_id": 12,
        "role": "assistant",
        "content": "ê²½ë³µê¶ì—ì„œ ë‚ ì”¨ê°€ ì¢‹ìœ¼ë©´ ê²½ì¹˜ê°€ ì¢‹ì€ ê³³ì€ ê²½íšŒë£¨ì´ì˜¤. ê²½íšŒë£¨ëŠ” ê²½ë³µê¶ ê·¼ì •ì „ ì„œë¶ìª½ ì—°ëª» ì•ˆì— ì„¸ìš´ ê±´ë¬¼ë¡œ, ë‚˜ë¼ì— ê²½ì‚¬ê°€ ìˆê±°ë‚˜ ì‚¬ì‹ ì´ ì™”ì„ ë•Œ ì—°íšŒë¥¼ ë² í’€ë˜ ê³³ì´ì˜¤.\n\nê²½íšŒë£¨ì˜ ì—°ëª»ì—ì„œëŠ” ì•„ë¦„ë‹¤ìš´ ì—°ê½ƒì´ í”¼ê³ , ì£¼ë³€ì˜ ë²„ë“œë‚˜ë¬´ì™€ ì–´ìš°ëŸ¬ì ¸ ë©‹ì§„ í’ê²½ì„ ìë‘í•˜ì˜¤. íŠ¹íˆ, ë´„ê³¼ ê°€ì„ì—ëŠ” ê½ƒê³¼ ë‹¨í’ì´ ì–´ìš°ëŸ¬ì ¸ ë”ìš± ì•„ë¦„ë‹¤ìš´ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆì†Œ.\n\nê²½íšŒë£¨ëŠ” êµ­ë³´ ì œ224í˜¸ë¡œ ì§€ì •ë˜ì–´ ìˆìœ¼ë©°, ì¡°ì„  ì‹œëŒ€ ê±´ì¶• ê¸°ìˆ ì˜ ì •ìˆ˜ë¥¼ ë³´ì—¬ì£¼ëŠ” ê±´ì¶•ë¬¼ì´ì˜¤. ë‚ ì”¨ê°€ ì¢‹ì€ ë‚ ì—ëŠ” ê²½íšŒë£¨ì— ì˜¬ë¼ ì•„ë¦„ë‹¤ìš´ ê²½ì¹˜ë¥¼ ê°ìƒí•´ ë³´ëŠ” ê²ƒì„ ì¶”ì²œí•˜ì˜¤.",
        "timestamp": "2024-08-08T01:25:56",
        "audio_url": "https://zyyosrdkcdcm25870576.cdn.ntruss.com/audio/f1723080-c7ce-4dfa-a054-e320b9ee396f.mp3"
    }
    ```

    * í€´ì¦ˆ ë° ìš”ì•½ í”„ë¡¬í”„íŠ¸ ê°’ ì¡°ì •

    * ì±—ë´‡ íŒŒë¼ë¯¸í„° ìˆ˜ì •

    * ë¬¸í™”ì¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ APIì— ê¸°ëŠ¥ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.

        * í•„í„°ë§ ì´í›„ ë¬¸í™”ì¬ ì „ì²´ ê°œìˆ˜ê°€ ì œê³µë©ë‹ˆë‹¤.
        * í•´ë‹¹ ë°ì´í„° ì œê³µì„ ìœ„í•´ ì´ì „ì˜ ì‘ë‹µ ê°’ì—ì„œ ì¼ë¶€ í˜•íƒœê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.

    * ìˆ˜ì •ëœ ë¬¸í™”ì¬ ë¦¬ìŠ¤íŠ¸ ì¡°íšŒ API ì‘ë‹µ ê°’ ì˜ˆì‹œ
    ```json
    {
        "items": [
            {
                "id": 16525,
                "name": "ê³ í¥ë„ì²œë¦¬ì§€ì„ë¬˜êµ°",
                "location": "ì „ë‚¨ ê³ í¥êµ° ê³¼ì—­ë©´ ë„ì²œë¦¬ ì‚°21ë²ˆì§€ ì™¸",
                "heritage_type": "ë¬¸í™”ìœ ì‚°ìë£Œ",
                "image_url": "http://www.cha.go.kr/unisearch/images/cultural_material/1662222.jpg",
                "distance": 321.6
            }, ...
        ],
        "total_count": 41,
        "page": 5,
        "limit": 10
    }
    ```

    * ë¬¸í™”ì¬ ìƒì„¸ ì¡°íšŒ ì‘ë‹µ ì˜¤ë¥˜ í•´ê²°

        * heritage_type ì—”í‹°í‹°ì™€ join ì²˜ë¦¬ ì™„ë£Œ
        * ë°˜í™˜ ê°’ location íŒŒì‹± ì²˜ë¦¬ ì™„ë£Œ
    
    * í”„ë¡¬í”„íŠ¸ ìˆ˜ì • í›„ í€´ì¦ˆ íŒŒì‹± ì´ìŠˆ í•´ê²°

        * ì •ë‹µê³¼ ì„¤ëª… íŒŒì‹± ì •ê·œí™” ìˆ˜ì • ë° ì¶”ê°€ ì™„ë£Œ


## ğŸ›ï¸ API Specification

* https://neonadeuli.life/docs

### users

|URL|í˜ì´ì§€ ì„¤ëª…|GET|POST|PUT|DELETE|ë¡œê·¸ì¸ ê¶Œí•œ| ì‘ì„±ì ê¶Œí•œ|
|------|---|:---:|:---:|:---:|:---:|:---:|:---:|
|/api/v1/users/login|ì„ì‹œ ë¡œê·¸ì¸| |âœ…| | | | |
|/api/v1/users/validate_token|ìœ ì € í† í° ê²€ì‚¬|âœ…| | | | | |
|/api/v1/users/logout|ë¡œê·¸ì•„ì›ƒ| |âœ…| | | | |

### chat

|URL|í˜ì´ì§€ ì„¤ëª…|GET|POST|PUT|DELETE|ë¡œê·¸ì¸ ê¶Œí•œ| ì‘ì„±ì ê¶Œí•œ|
|------|---|:---:|:---:|:---:|:---:|:---:|:---:|
|/api/v1/chat/sessions|ì±„íŒ… ì„¸ì…˜ ìƒì„±| |âœ…| | | |
|/api/v1/chat/sessions/{session_id}/message|ì±„íŒ… ë©”ì‹œì§€ ì „ì†¡| |âœ…| | | | |
|/api/v1/chat/{session_id}/heritage/buildings/info|ê±´ì¶•ë¬¼ ì •ë³´ ì œê³µ| |âœ…| | | | |
|/api/v1/chat/{session_id}/heritage/buildings/quiz|ê±´ì¶•ë¬¼ í€´ì¦ˆ ì œê³µ| |âœ…| | | | |
|/api/v1/chat/{session_id}/heritage/building/recommend-questions|ê±´ì¶•ë¬¼ ê¸°ë°˜ ì¶”ì²œ ì§ˆë¬¸| |âœ…| | | | |
|/api/v1/chat/{session_id}/heritage/message/recommend-questions|ë©”ì‹œì§€ ê¸°ë°˜ ì¶”ì²œ ì§ˆë¬¸|âœ…| | | | | |
|/api/v1/chat/{session_id}/summary|ì±„íŒ… ìš”ì•½|âœ…| | | | | |
|/api/v1/chat/{session_id}/end|ì±„íŒ… ì¢…ë£Œ| |âœ…| | | | |
|/api/v1/chat/{session_id}/status|ì±„íŒ… ì„¸ì…˜ ìƒíƒœ í™•ì¸|âœ…| | | | | |

### heritages

|URL|í˜ì´ì§€ ì„¤ëª…|GET|POST|PUT|DELETE|ë¡œê·¸ì¸ ê¶Œí•œ| ì‘ì„±ì ê¶Œí•œ|
|------|---|:---:|:---:|:---:|:---:|:---:|:---:|
|/api/v1/heritages/lists|êµ­ê°€ìœ ì‚° ì¡°íšŒ|âœ…| | | | |
|/api/v1/heritages/{heritage_id}/details|êµ­ê°€ìœ ì‚° ìƒì„¸ ì¡°íšŒ|âœ…| | | | |

### image

|URL|í˜ì´ì§€ ì„¤ëª…|GET|POST|PUT|DELETE|ë¡œê·¸ì¸ ê¶Œí•œ| ì‘ì„±ì ê¶Œí•œ|
|------|---|:---:|:---:|:---:|:---:|:---:|:---:|
|/api/v1/image/update-heritage|êµ­ê°€ìœ ì‚° ì´ë¯¸ì§€ ìˆ˜ì •| |âœ…| | | |
|/api/v1/image/heritage/{heritage_id}/add-building|ë‚´ë¶€ ê±´ì¶•ë¬¼ ì´ë¯¸ì§€ ì¶”ê°€| |âœ…| | | |
|/api/v1/image/heritage/{heritage_id}/find-building|ë‚´ë¶€ ê±´ì¶•ë¬¼ ì´ë¯¸ì§€ ì¡°íšŒ| |âœ…| | | |
|/api/v1/image/delete-building|ë‚´ë¶€ ê±´ì¶•ë¬¼ ì´ë¯¸ì§€ ì‚­ì œ| |âœ…| | | |

## â›©ï¸ File Tree

```
ğŸ“¦app
 â”£ ğŸ“‚audio
 â”£ ğŸ“‚core
 â”ƒ â”£ ğŸ“œconfig.py
 â”ƒ â”£ ğŸ“œdatabase.py
 â”ƒ â”£ ğŸ“œdeps.py
 â”ƒ â”— ğŸ“œsecurity.py
 â”£ ğŸ“‚error
 â”ƒ â”£ ğŸ“œauth_exception.py
 â”ƒ â”£ ğŸ“œchat_exception.py
 â”ƒ â”£ ğŸ“œheritage_exceptions.py
 â”ƒ â”— ğŸ“œimage_exception.py
 â”£ ğŸ“‚models
 â”ƒ â”£ ğŸ“‚chat
 â”ƒ â”ƒ â”£ ğŸ“œchat_message.py
 â”ƒ â”ƒ â”— ğŸ“œchat_session.py
 â”ƒ â”£ ğŸ“‚heritage
 â”ƒ â”ƒ â”£ ğŸ“œheritage.py
 â”ƒ â”ƒ â”£ ğŸ“œheritage_building.py
 â”ƒ â”ƒ â”£ ğŸ“œheritage_building_image.py
 â”ƒ â”ƒ â”£ ğŸ“œheritage_route.py
 â”ƒ â”ƒ â”£ ğŸ“œheritage_route_building.py
 â”ƒ â”ƒ â”— ğŸ“œheritage_type.py
 â”ƒ â”£ ğŸ“œenums.py
 â”ƒ â”£ ğŸ“œinit.py
 â”ƒ â”£ ğŸ“œquestion.py
 â”ƒ â”£ ğŸ“œquiz.py
 â”ƒ â”£ ğŸ“œuser.py
 â”ƒ â”— ğŸ“œuser_bookmark.py
 â”£ ğŸ“‚repository
 â”ƒ â”£ ğŸ“œchat_repository.py
 â”ƒ â”£ ğŸ“œheritage_repository.py
 â”ƒ â”£ ğŸ“œimage_repository.py
 â”ƒ â”— ğŸ“œuser_repository.py
 â”£ ğŸ“‚router
 â”ƒ â”£ ğŸ“‚v1
 â”ƒ â”ƒ â”£ ğŸ“‚__pycache__
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œchat.cpython-311.pyc
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œheritage.cpython-311.pyc
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œimage.cpython-311.pyc
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œuser.cpython-311.pyc
 â”ƒ â”ƒ â”£ ğŸ“œchat.py
 â”ƒ â”ƒ â”£ ğŸ“œheritage.py
 â”ƒ â”ƒ â”£ ğŸ“œimage.py
 â”ƒ â”ƒ â”— ğŸ“œuser.py
 â”ƒ â”— ğŸ“œapi.py
 â”£ ğŸ“‚schemas
 â”ƒ â”£ ğŸ“œchat.py
 â”ƒ â”£ ğŸ“œheritage.py
 â”ƒ â”£ ğŸ“œimage.py
 â”ƒ â”— ğŸ“œuser.py
 â”£ ğŸ“‚service
 â”ƒ â”£ ğŸ“œchat_service.py
 â”ƒ â”£ ğŸ“œclova_service.py
 â”ƒ â”£ ğŸ“œheritage_service.py
 â”ƒ â”£ ğŸ“œimage_service.py
 â”ƒ â”£ ğŸ“œs3_service.py
 â”ƒ â”£ ğŸ“œuser_service.py
 â”ƒ â”— ğŸ“œvalidation_service.py
 â”— ğŸ“‚utils
 â”ƒ â”£ ğŸ“œcommon.py
 â”ƒ â”— ğŸ“œprompts.py
```

## ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Backend Team Member

|[viaunixue](https://github.com/viaunixue) | [swwho96](https://github.com/swwho96) |
|:--------:|:---------:|
| <img src="https://avatars.githubusercontent.com/u/77084379?v=4" alt="almond0115" width="200" height="200"> | <img src="https://avatars.githubusercontent.com/u/67579479?v=4" alt="almond0115" width="200" height="200"> |